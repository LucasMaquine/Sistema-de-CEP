<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEP</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
</head>
<body>
    
    <section class="container">
        <div class="row mt-5">
            <h1>Sistema de Busca de CEP</h1>
        </div>
            <div >
                <input id="cepBarra" class="form-control form-control-lg" type="number" placeholder="Digite o seu CEP">
                <button id="botaoBuscar" class="btn btn-primary">Buscar</button>
            </div>
            <div class="row">
                <div class="col-md-8 mt-5">
                    <input id="endereco" class="form-control form-control-lg" readonly type="text" placeholder="Endereço">
                    <input id="bairro" class="form-control form-control-lg" readonly type="text" placeholder="Bairro">
                </div>
                <div class="mt-5">
                    <input id="numero" class="form-control form-control-lg" type="number" placeholder="Número">
                    <input id="complemento" class="form-control form-control-lg" readonly type="text" placeholder="Complemento">
                </div>
            </div>
        </div>
    </section>





    <script>
        
        document.querySelector("#botaoBuscar").addEventListener("click",function buscarCep(){
            const cep = document.querySelector("#cepBarra").value
            const url = "https://viacep.com.br/ws/"+cep+"/json/"
            
                fetch(url).then(response => response.json()).then(response => {
                    console.log(response)
                    document.querySelector("#bairro").value = response.bairro
                    document.querySelector("#endereco").value = response.logradouro

                    if(response.complemento == false){
                        document.querySelector("#complemento").removeAttribute("readonly")
                    }else{
                        document.querySelector("#complemento").value = response.complemento
                    }
                    
            })
        })
    </script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
</body>
</html>